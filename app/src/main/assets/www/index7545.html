<!DOCTYPE html>
<html lang="en" dir="ltr">

<!-- Mirrored from admin.wechat.com/wiki/index.php?title=Advanced_Broadcast_Interface by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Mar 2015 02:15:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Advanced Broadcast Interface - WeChat Official Account Admin Platform</title>
<meta name="generator" content="MediaWiki 1.17.0" />
<link rel="shortcut icon" href="http://admin.wechat.com/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="WeChat Official Account Admin Platform (en)" />
<link rel="alternate" type="application/atom+xml" title="WeChat Official Account Admin Platform Atom feed" href="index890f.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="loadeb8e.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr ns-0 ns-subject page-Advanced_Broadcast_Interface skin-vector">
		
<!--网站头部-->
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>

<div class="headWrap">
	<div class="header"  id="header">
		<div class="headerContent">
			<div class="left">
      <a class="block" href="http://admin.wechat.com/wiki">
        <img src="images/logo_en_US.png" alt="WeChat Official Account Admin Platform">
      </a>
			</div>
			<div class="clr"></div>
		</div>
	</div>
</div>		
</div>

<div class="bottomnav">
		<a href="http://admin.wechat.com/wiki" title="Log in" class="loginbtn" style=""></a>
			<a class="topbtn" href="javascript:;" onclick="document.getElementById('header').scrollIntoView(true);"></a>
</div>
<script type="text/javascript" src="js/wiki_en_US4bcb.js?20120215"></script>
<!--[if IE 6]>
<style type="text/css">
html{background-image:url(about:blank);background-attachment:fixed;}
#content{overflow-x:hidden;}
.bottomnav{position:absolute;top:expression(eval(document.documentElement.scrollTop+document.documentElement.clientHeight-30));}
</style>
<![endif]-->
<!--网站头部-->
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div class="mainwrapper">
		<!-- content -->
		<div id="content">
      			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
        <h1 id="firstHeading" class="firstHeading">Advanced Broadcast Interface<div><a href="javascript:;" onclick="document.referrer ?location.replace(document.referrer):location.href='index4875.html';return false;" class="back">Back</a></div></h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent" class="bodyContent">
				<!-- tagline -->
				<div id="siteSub">From WeChat Official Account Admin Platform</div>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<p>On the WeChat Official Account Platform, a subscription account is allowed to send 1 broadcast message per day, while a service account is allowed 4 per calendar month. Official accounts using developer mode can broadcast more flexibly using this API. 
</p><p>Notes：
</p>
<pre>1. A subscription account <b>is allowed to send a single broadcast message per day to all users or users of a group</b>.
2. A service account is allowed to send up to 100 broadcast messages per day, but users will receive only four messages per calendar month. <b>This limitation applies to all broadcast messages, whether they are sent via the WeChat Official Account Admin Platform or via the broadcast API. Messages which exceed this limit will not be received by users</b>.
3. Official accounts having payment access can add external links via the &lt;a&gt; tag if they send or broadcast rich media files via the broadcast API.
4. Developers can send messages to specified users via the preview API in order to test for message design and performance.
</pre>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Upload_Article_Message_Data"><span class="tocnumber">1</span> <span class="toctext">Upload Article Message Data</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Group-Based_Broadcast"><span class="tocnumber">2</span> <span class="toctext">Group-Based Broadcast</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#OpenID_List-Based_Broadcast"><span class="tocnumber">3</span> <span class="toctext">OpenID List-Based Broadcast</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Broadcast_Message_Deletion"><span class="tocnumber">4</span> <span class="toctext">Broadcast Message Deletion</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Preview_API"><span class="tocnumber">5</span> <span class="toctext">Preview API</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Query_Message_Sending_Status"><span class="tocnumber">6</span> <span class="toctext">Query Message Sending Status</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Event_Push_Broadcast_Result"><span class="tocnumber">7</span> <span class="toctext">Event Push Broadcast Result</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Upload_Article_Message_Data"><b>Upload Article Message Data</b></span></h2>
<p><b>Request Description</b>
</p>
<pre>HTTP request mode: POST
<a href="https://api.weixin.qq.com/cgi-bin/media/uploadnews?access_token=ACCESS_TOKEN" class="external free" rel="nofollow">https://api.weixin.qq.com/cgi-bin/media/uploadnews?access_token=ACCESS_TOKEN</a>
</pre>
<p><b>POST Data</b>
</p><p>Example:
</p>
<pre>{
   "articles": [
		 {
			"thumb_media_id":"qI6_Ze_6PtV7svjolgs-rN6stStuHIjs9_DidOHaj0Q-mwvBelOXCFZiq2OsIU-p",
			"author":"xxx",
			"title":"Happy Day",
			"content_source_url":"www.qq.com",
			"content":"content",
			"digest":"digest",
			"show_cover_pic":"1"
		 },
		 {
			"thumb_media_id":"qI6_Ze_6PtV7svjolgs-rN6stStuHIjs9_DidOHaj0Q-mwvBelOXCFZiq2OsIU-p",
			"author":"xxx",
			"title":"Happy Day",
			"content_source_url":"www.qq.com",
			"content":"content",
			"digest":"digest",
			"show_cover_pic":"0"
		 }
	]
}

</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="width:180px">Required
</th>
<th style="width:470px">Description
</th></tr>
<tr>
<td> Articles
</td>
<td> Yes
</td>
<td> One article message can support 1-10 news items
</td></tr>
<tr>
<td> thumb_media_id
</td>
<td> Yes
</td>
<td> The Media ID for the article message's thumbnail. See also Basic Support-&gt;Transferring Multimedia Files
</td></tr>
<tr>
<td> author
</td>
<td> No
</td>
<td> The author of an article message
</td></tr>
<tr>
<td> title
</td>
<td> Yes
</td>
<td> The title of an article message
</td></tr>
<tr>
<td> content_source_url
</td>
<td> No
</td>
<td> Switch to this page after clicking Original Text
</td></tr>
<tr>
<td> content
</td>
<td> Yes
</td>
<td> The content of the corresponding article message page. Supports HTML tags.
</td></tr>
<tr>
<td> digest
</td>
<td> No
</td>
<td> The description of the article message
</td></tr>
<tr>
<td> show_cover_pic
</td>
<td> No
</td>
<td> Shows the cover picture when set to 1, hides if 0.
</td></tr>
</table>
<p><b>Result</b>
</p><p>Example of a result when the broadcast operation is successful:
</p>
<pre>{
   "type":"news",
   "media_id":"CsEf3ldqkAYJAU6EJeIkStVDSvffUJ54vqbThMgplD-VJXXof6ctX5fI6-aYyUiQ",
   "created_at":1391857799
}

</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> type
</td>
<td> Media file types is one of: image, voice, video and thumb. The type for an article message is news.
</td></tr>
<tr>
<td> media_id
</td>
<td> The media ID obtained from uploading any media files/article messages
</td></tr>
<tr>
<td> created_at
</td>
<td> Upload time of a media file
</td></tr>
</table>
<p>WeChat returns information about errors when they occur. Refer to the error codes listed here: <a href="indexde62.html?title=Return_Codes" class="external text" rel="nofollow">Return Codes</a>
</p>
<h2> <span class="mw-headline" id="Group-Based_Broadcast"><b>Group-Based Broadcast</b></span></h2>
<p><b>Request</b>
</p>
<pre>http request mode: POST
<a href="https://api.weixin.qq.com/cgi-bin/message/mass/sendall?access_token=ACCESS_TOKEN" class="external free" rel="nofollow">https://api.weixin.qq.com/cgi-bin/message/mass/sendall?access_token=ACCESS_TOKEN</a>
</pre>
<p><b>POST Data</b>
</p><p>Example:
</p><p>Article message（Please note that media_id of an article message is obtained by using the above method）：
</p>
<pre>{
   "filter":{
      "group_id":"2"
   },
   "mpnews":{
      "media_id":"123dsdajkasd231jhksad"
   },
    "msgtype":"mpnews"
}
</pre>
<p>Text：
</p>
<pre>{
   "filter":{
      "group_id":"2"
   },
   "text":{
      "content":"CONTENT"
   },
    "msgtype":"text"
}
</pre>
<p>Voice（Please note that media_id here is obtained on Basic Support-&gt;Transferring Multimedia Files）：
</p>
<pre>{
   "filter":{
      "group_id":"2"
   },
   "voice":{
      "media_id":"123dsdajkasd231jhksad"
   },
    "msgtype":"voice"
}
</pre>
<p>Image（Please note that media_id here is obtained on Basic Support-&gt;Transferring Multimedia Files）：
</p>
<pre>{
   "filter":{
      "group_id":"2"
   },
   "image":{
      "media_id":"123dsdajkasd231jhksad"
   },
    "msgtype":"image"
}
</pre>
<p>Video
Please note that media_id here is obtained at the following URL： <a href="https://file.api.weixin.qq.com/cgi-bin/media/uploadvideo?access_token=ACCESS_TOKEN" class="external free" rel="nofollow">https://file.api.weixin.qq.com/cgi-bin/media/uploadvideo?access_token=ACCESS_TOKEN</a> POST data is as follows（See Basic Support-&gt;Transferring Multimedia Files）：
</p>
<pre>{
  "media_id": "rF4UdIMfYK3efUfyoddYRMU50zMiRmmt_l0kszupYh_SzrcW5Gaheq05p_lHuOTQ",
  "title": "TITLE",
  "description": "Description"
}
</pre>
<p>The result will be something like this:
</p>
<pre>{
  "type":"video",
  "media_id":"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc",
  "created_at":1398848981
}

</pre>
<p>After that, POST the following data（change media_id here to the one obtained from the previous step):
</p>
<pre>{
   "filter":{
      "group_id":"2"
   },
   "mpvideo":{
      "media_id":"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc",
   },
    "msgtype":"mpvideo"
}

</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="width:180px">Required
</th>
<th style="width:470px">Description
</th></tr>
<tr>
<td> filter
</td>
<td> Yes
</td>
<td> Set the recipient of an article message
</td></tr>
<tr>
<td> group_id
</td>
<td> Yes
</td>
<td> ID of any groups to be broadcast to
</td></tr>
<tr>
<td> mpnews
</td>
<td> Yes
</td>
<td> Set article messages to be sent
</td></tr>
<tr>
<td> media_id
</td>
<td> Yes
</td>
<td> ID of the message to be broadcast
</td></tr>
<tr>
<td> msgtype
</td>
<td> Yes
</td>
<td> Indicate the broadcast message types. mpnews for article messages, text for text message, voice for voice messages, music for music messages, image for image messages, and video for video messages.
</td></tr>
<tr>
<td> title
</td>
<td> No
</td>
<td> The title of the message
</td></tr>
<tr>
<td> description
</td>
<td> No
</td>
<td> The description of the message
</td></tr>
<tr>
<td> thumb_media_id
</td>
<td> Yes
</td>
<td> Media ID of the video's thumbnail image
</td></tr>
</table>
<p><br />
<b>Result</b>
</p>
<pre>{
  "errcode":0,
  "errmsg":"send job submission success",
  "msg_id":34182
}
</pre>
<p><b>Example (successful result)：</b>
</p>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> type
</td>
<td> Media file type includes image, voice, video and thumb. The type of an article message is news.
</td></tr>
<tr>
<td> errcode
</td>
<td> The error code
</td></tr>
<tr>
<td> errmsg
</td>
<td> The error message
</td></tr>
<tr>
<td> msg_id
</td>
<td> Message ID
</td></tr>
</table>
<p>Note: When the result is successful, this only indicates that the message was successfully submitted. The subsequent broadcast step -- which may take considerable time -- has not yet finished. Exceptions that occur later during the broadcast step may result in users' failure to receive your messages. This could be because the messages are under review or due to server issues.
</p><p>WeChat returns information about errors when they occur. Refer to the error codes listed here: <a href="indexde62.html?title=Return_Codes" class="external text" rel="nofollow">Return Codes</a>
</p>
<h2> <span class="mw-headline" id="OpenID_List-Based_Broadcast"><b>OpenID List-Based Broadcast</b></span></h2>
<p><b>Request</b>
</p>
<pre>http request mode: POST
<a href="https://api.weixin.qq.com/cgi-bin/message/mass/send?access_token=ACCESS_TOKEN" class="external free" rel="nofollow">https://api.weixin.qq.com/cgi-bin/message/mass/send?access_token=ACCESS_TOKEN</a>
</pre>
<p><b>POST Data</b>
</p><p>Example：
</p><p>Article message（Please note that the media_id of an article message is obtained using the above method）： 
</p>
<pre>{
   "touser":[
      "OPENID1",
      "OPENID2"
   ],
   "mpnews":{
      "media_id":"123dsdajkasd231jhksad"
   },
   "msgtype":"mpnews"
}

</pre>
<p>Text：
</p>
<pre>{
   "touser": [
     "oR5Gjjl_eiZoUpGozMo7dbBJ362A", 
     "oR5Gjjo5rXlMUocSEXKT7Q5RQ63Q" 
   ], 
   "msgtype": "text", 
   "text": { 
     "content": "hello from boxer."
   }
}
</pre>
<p><br />
Voice：
</p>
<pre>{
   "touser":[
      "OPENID1",
      "OPENID2"
   ],
   "voice":{
      "media_id":"mLxl6paC7z2Tl-NJT64yzJve8T9c8u9K2x-Ai6Ujd4lIH9IBuF6-2r66mamn_gIT"
   },
   "msgtype":"voice"
}
</pre>
<p>Image：
</p>
<pre>{
   "touser":[
      "OPENID1",
      "OPENID2"
   ],
   "image":{
      "media_id":"BTgN0opcW3Y5zV_ZebbsD3NFKRWf6cb7OPswPi9Q83fOJHK2P67dzxn11Cp7THat"
   },
   "msgtype":"image"
}
</pre>
<p>Video：
</p><p>Please note that media_id here is obtained via POST rerquest to the following URL： <a href="https://file.api.weixin.qq.com/cgi-bin/media/uploadvideo?access_token=ACCESS_TOKEN" class="external free" rel="nofollow">https://file.api.weixin.qq.com/cgi-bin/media/uploadvideo?access_token=ACCESS_TOKEN</a> POST data is as follows（Please note that media_id here is obtained on Basic Support-&gt;Transferring Multimedia Files）：
</p>
<pre>{
  "media_id": "rF4UdIMfYK3efUfyoddYRMU50zMiRmmt_l0kszupYh_SzrcW5Gaheq05p_lHuOTQ",
  "title": "TITLE",
  "description": "Description"
}
</pre>
<p><br /> 
Return data will be:
</p>
<pre>{
  "type":"video",
  "media_id":"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc",
  "created_at":1398848981
}
</pre>
<p>Then, POST the following data（change media_id to the one obtained in the previous step) and send
</p>
<pre>{
   "touser":[
      "OPENID1",
      "OPENID2"
   ],
   "video":{
      "media_id":"123dsdajkasd231jhksad",
      "title":"TITLE",
      "description":"DESCRIPTION"
   },
   "msgtype":"video"
}
</pre>
<p><br />
</p>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="width:180px">Required
</th>
<th style="width:470px">Description
</th></tr>
<tr>
<td> touser
</td>
<td> Yes
</td>
<td> Set a recipient of the article message. The range of OpenID ranges from 1 to 10000.
</td></tr>
<tr>
<td> mpnews
</td>
<td> Yes
</td>
<td> Set article messages to be sent soon
</td></tr>
<tr>
<td> media_id
</td>
<td> Yes
</td>
<td> Media ID of the article messages to be broadcast
</td></tr>
<tr>
<td> msgtype
</td>
<td> Yes
</td>
<td> Media ID of the messages to be broadcast
</td></tr>
<tr>
<td> msgtype
</td>
<td> Yes
</td>
<td> Indicate broadcast message type, which will be one of: mpnews (for article messages)，text，voice，music，image, or video.
</td></tr>
<tr>
<td> title
</td>
<td> No
</td>
<td> The tittle of a message
</td></tr>
<tr>
<td> description
</td>
<td> No
</td>
<td> The description of a message
</td></tr>
<tr>
<td> thumb_media_id
</td>
<td> Yes
</td>
<td> Media ID of a video thumb
</td></tr>
</table>
<p><b>Return Data</b>
</p><p>Example of Return Data（JSON return result when performed correctly）：
</p>
<pre>{
  "errcode":0,
  "errmsg":"send job submission success",
  "msg_id":34182
}
</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> type
</td>
<td> Media file types include image, voice, video and thumb. The type of an article message is news.
</td></tr>
<tr>
<td> errcode
</td>
<td> Error code
</td></tr>
<tr>
<td> errmsg
</td>
<td> Error message
</td></tr>
<tr>
<td> msg_id
</td>
<td> Message ID
</td></tr>
</table>
<p>Note: When the result is successful, this only indicates that the message was successfully submitted. The subsequent broadcast step -- which may take considerable time -- has not yet finished. Exceptions that occur later during the broadcast step may result in users' failure to receive your messages. This could be because the messages are under review or due to server issues. 
</p><p>WeChat returns information about errors when they occur. Refer to the error codes listed here: <a href="indexde62.html?title=Return_Codes" class="external text" rel="nofollow">Return Codes</a>
</p>
<h2> <span class="mw-headline" id="Broadcast_Message_Deletion"><b>Broadcast Message Deletion</b></span></h2>
<p><b>Request</b>
</p>
<pre>http request mode: POST
<a href="https://api.weixin.qq.com//cgi-bin/message/mass/delete?access_token=ACCESS_TOKEN" class="external free" rel="nofollow">https://api.weixin.qq.com//cgi-bin/message/mass/delete?access_token=ACCESS_TOKEN</a>
</pre>
<p><b>POST Data</b>
</p><p>Example：
</p>
<pre>{
   "msgid":30124
}
</pre>
<p><br /> 
</p>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="width:180px">Required
</th>
<th style="width:470px">Description
</th></tr>
<tr>
<td> msg_id
</td>
<td> Yes
</td>
<td> ID of messages sent
</td></tr>
</table>
<p>Notes: Messages can be deleted after they've been successfully sent. Users will still be able to view the message, even if the article's message page has been taken down. Only article and video messages may be deleted once sent. 
</p><p><b>Return Data</b>
</p><p>Example of Return Data（JSON return result when performed correctly）：
</p>
<pre>{
   "errcode":0,
   "errmsg":"ok"
}
</pre>
<p><br />
</p>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> errcode
</td>
<td> Error code
</td></tr>
<tr>
<td> errmsg
</td>
<td> Error message
</td></tr>
</table>
<p>WeChat returns information about errors when they occur. Refer to the error codes listed here: <a href="indexde62.html?title=Return_Codes" class="external text" rel="nofollow">Return Codes</a>
</p>
<h2> <span class="mw-headline" id="Preview_API"><b>Preview API</b></span></h2>
<p>Developers can send messages to specified users via this API in order to test for message design and performance.
</p><p><b>Request Description</b>
</p>
<pre>HTTP request method: POST
<a href="https://api.weixin.qq.com/cgi-bin/message/mass/preview?access_token=ACCESS_TOKEN" class="external free" rel="nofollow">https://api.weixin.qq.com/cgi-bin/message/mass/preview?access_token=ACCESS_TOKEN</a>
</pre>
<p><b>POST Data</b>
</p><p>Example:
</p><p>Article (media_id is identical to the one contained in the subsequent a group-targeted broadcast message):
</p>
<pre>{
   "touser":"OPENID", 
   "mpnews":{              
            "media_id":"123dsdajkasd231jhksad"               
   },
   "msgtype":"mpnews" 
}
</pre>
<p>Text:
</p>
<pre>{     
    "touser":"OPENID",
    "text":{           
           "content":"CONTENT"            
    },     
    "msgtype":"text"
}
</pre>
<p>Voice (media_id is identical to the one contained in the subsequent group-targeted broadcast message):
</p>
<pre>{
    "touser":"OPENID",
    "voice":{              
            "media_id":"123dsdajkasd231jhksad"
    },
    "msgtype":"voice" 
}
</pre>
<p>Image (media_id is identical to the one contained in the subsequent group-targeted broadcast message):
{
</p>
<pre>   "touser":"OPENID",
   "image":{      
           "media_id":"123dsdajkasd231jhksad"
   },
   "msgtype":"image" 
}
</pre>
<p>Video (media_id is identical to the one contained in the subsequent group-targeted broadcast message):
</p>
<pre>{
    "touser":"OPENID",
    "mpvideo":{  "media_id":"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc",   
    },
    "msgtype":"mpvideo" 
}
</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> touser
</td>
<td> OpenID of the message receiver visible by the official account
</td></tr>
<tr>
<td> msgtype
</td>
<td> Type of broadcast message: mpnews (for rich media article groups or single article messages), text, voice, music, image, or video
</td></tr>
<tr>
<td> media_id
</td>
<td> media_id of the broadcast message
</td></tr>
<tr>
<td> content
</td>
<td> Content of text messages when sending broadcast messages of "text" type
</td></tr>
</table>
<p><b>Return Description</b>
An example of a successful JSON response is as follows:
</p>
<pre>{
   "errcode":0,
   "errmsg":"send job submission success",
   "msg_id":34182
}
</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> errcode
</td>
<td> Error code
</td></tr>
<tr>
<td> errmsg
</td>
<td> Error description
</td></tr>
<tr>
<td> media_id
</td>
<td> Message ID
</td></tr>
</table>
<h2> <span class="mw-headline" id="Query_Message_Sending_Status"><b>Query Message Sending Status</span></h2></b>
<p><b>Request Description</b>
</p>
<pre>HTTP request method: POST
<a href="https://api.weixin.qq.com/cgi-bin/message/mass/get?access_token=ACCESS_TOKEN" class="external free" rel="nofollow">https://api.weixin.qq.com/cgi-bin/message/mass/get?access_token=ACCESS_TOKEN</a>
</pre>
<p><b>POST Data</b>
</p><p>Example:
</p>
<pre>{
   "msg_id": "201053012"
}
</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> msg_id
</td>
<td> Message ID returned after a message is broadcast
</td></tr>
</table>
<p><b>Return Description</b>
</p><p>An example of a successful JSON response is as follows:
</p>
<pre>{
    "msg_id":201053012,
    "msg_status":"SEND_SUCCESS"
}
</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> msg_id
</td>
<td> Message ID returned after a message is broadcast
</td></tr>
<tr>
<td> msg_status
</td>
<td> Status after a message is sent. SEND_SUCCESS indicates message has been successfully sent
</td></tr>
</table>
<h2> <span class="mw-headline" id="Event_Push_Broadcast_Result"><b>Event Push Broadcast Result</b></span></h2>
<p>A broadcast task may be completed within a certain time after submission. Therefore, when broadcast interface is called, only a tip about submission status is displayed. If a broadcast task is submitted successfully, an event push is sent to developer's URL (callback URL) registered on OA after the broadcast task is completed.
</p><p>The XML structure of this event push is as follows (sent successfully):
</p>
<pre>&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[gh_3e8adccde292]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[oR5Gjjl_eiZoUpGozMo7dbBJ362A]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;1394524295&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;
&lt;Event&gt;&lt;![CDATA[MASSSENDJOBFINISH]]&gt;&lt;/Event&gt;
&lt;MsgID&gt;1988&lt;/MsgID&gt;
&lt;Status&gt;&lt;![CDATA[sendsuccess]]&gt;&lt;/Status&gt;
&lt;TotalCount&gt;100&lt;/TotalCount&gt;
&lt;FilterCount&gt;80&lt;/FilterCount&gt;
&lt;SentCount&gt;75&lt;/SentCount&gt;
&lt;ErrorCount&gt;5&lt;/ErrorCount&gt;
&lt;/xml&gt;
</pre>
<table border="1" cellspacing="0" cellpadding="4" align="center" width="640px">
<tr>
<th style="width:180px">Parameter
</th>
<th style="">Description
</th></tr>
<tr>
<td> ToUserName
</td>
<td> WeChat ID of an official account
</td></tr>
<tr>
<td> FromUserName
</td>
<td> WeChat ID of Official Account Broadcast Messages is mphelper
</td></tr>
<tr>
<td> CreateTime
</td>
<td> Timestamp of create time
</td></tr>
<tr>
<td> MsgType
</td>
<td> Message type, event in this case.
</td></tr>
<tr>
<td> Event
</td>
<td> Event information. It is MASSSENDJOBFINISH in this case.
</td></tr>
<tr>
<td> MsgID
</td>
<td> Broadcast message ID
</td></tr>
<tr>
<td> Status
</td>
<td> Broadcast status is send success, send fail or err(num). When it is send success, however, it may be the case that some users failed to receive OA messages due to their settings <span>o</span>r due to system errors. err(num) indicates the specific reason for the failure, which may be one of the following:
<p>err(10001), //Advertising err(20001), //Politically sensitive info err(20004), //Socially sensitive info err(20002), //Porn err(20006), //Violation and crime err(20008), //Scam err(20013), //Copyright infringement err(22000), //Mutual publicity err(21000), //Others
</p>
</td></tr>
<tr>
<td> TotalCount
</td>
<td> Number of followers in group_id; or number of followers in openid_list
</td></tr>
<tr>
<td> FilterCount
</td>
<td> The number of followers who are prepared to broadcast after filtering（The filtering is an operation of screening specified regions, gender, users who set the broadcast rejection function. In theory, FilterCount = SentCount + ErrorCount
</td></tr>
<tr>
<td> SentCount
</td>
<td> Number of followers who broadcast successfully
</td></tr>
<tr>
<td> ErrorCount
</td>
<td> Number of followers who failed to broadcast
</td></tr>
</table>

<!-- 
NewPP limit report
Preprocessor node count: 27/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key doc_wiki_ibg-wiki_ibg_:pcache:idhash:49-0!*!0!!en!*!edit=0 and timestamp 20150319214508 -->
<div class="printfooter">
Retrieved from "<a href="index7545.html?title=Advanced_Broadcast_Interface">http://admin.wechat.com/wiki/index.php?title=Advanced_Broadcast_Interface</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(images/logo_en_US.png);" href="index4875.html?title=Main_Page"  title="Visit the main page"></a></div>
				<!-- /logo -->
				<form class="searchform">
        <input type="text"   name="search" placeholder="Search Keywords [alt-s]" accesskey="s" class="searchform_text"/>
        <input type="submit" name="fulltext" value="Search" title="Get page with keywords" class="searchform_btn"/>
				</form>
				
<!-- New Developers Guide -->
<div class="portal" id='p-New_Developers_Guide'>
	<h5><span class="portal_arrow"></span>New Developers Guide</h5>
	<div class="body">
				<ul>
					<li id="n-Getting-Started"><a href="index48e2.html?title=Getting_Started">Getting Started</a></li>
					<li id="n-Developers-Requirements"><a href="indexd0af.html?title=Developers_Requirements">Developers Requirements</a></li>
				</ul>
			</div>
</div>

<!-- /New Developers Guide -->

<!-- Basic Support -->
<div class="portal" id='p-Basic_Support'>
	<h5><span class="portal_arrow"></span>Basic Support</h5>
	<div class="body">
				<ul>
					<li id="n-Access-Token"><a href="index2e51.html?title=Access_token">Access Token</a></li>
					<li id="n-IP-Address-List"><a href="index935a.html?title=IP_Address_List">IP Address List</a></li>
					<li id="n-Return-Codes"><a href="indexde62.html?title=Return_Codes">Return Codes</a></li>
					<li id="n-API-Call-Limits"><a href="indexbfdb.html?title=API_Call_Limits">API Call Limits</a></li>
					<li id="n-Transferring-Multimedia-Files"><a href="indexf3da.html?title=Transferring_Multimedia_Files">Transferring Multimedia Files</a></li>
				</ul>
			</div>
</div>

<!-- /Basic Support -->

<!-- Receiving Messages -->
<div class="portal" id='p-Receiving_Messages'>
	<h5><span class="portal_arrow"></span>Receiving Messages</h5>
	<div class="body">
				<ul>
					<li id="n-Message-Authentication"><a href="index421d.html?title=Message_Authentication">Message Authentication</a></li>
					<li id="n-Common-Messages"><a href="index59b0.html?title=Common_Messages">Common Messages</a></li>
					<li id="n-Event-Messages"><a href="index9e93.html?title=Event_Messages">Event Messages</a></li>
					<li id="n-Speech-Recognition-Messages"><a href="index4d03.html?title=Speech_Recognition_Messages">Speech Recognition Messages</a></li>
				</ul>
			</div>
</div>

<!-- /Receiving Messages -->

<!-- Sending Messages -->
<div class="portal" id='p-Sending_Messages'>
	<h5><span class="portal_arrow"></span>Sending Messages</h5>
	<div class="body">
				<ul>
					<li id="n-Callback-Messages"><a href="index617a.html?title=Callback_Messages">Callback Messages</a></li>
					<li id="n-Customer-Service-Messages"><a href="indexe6db.html?title=Customer_Service_Messages">Customer Service Messages</a></li>
					<li id="n-Advanced-Broadcast-Interface"><a href="index7545.html?title=Advanced_Broadcast_Interface">Advanced Broadcast Interface</a></li>
				</ul>
			</div>
</div>

<!-- /Sending Messages -->

<!-- User Management -->
<div class="portal" id='p-User_Management'>
	<h5><span class="portal_arrow"></span>User Management</h5>
	<div class="body">
				<ul>
					<li id="n-Group-Management-API"><a href="index7545-2.html?title=Group_Management_API">Group Management API</a></li>
					<li id="n-Name-Remarks"><a href="index977b.html?title=Name_Remarks">Name Remarks</a></li>
					<li id="n-User-Profile"><a href="indexb767.html?title=User_Profile">User Profile</a></li>
					<li id="n-Follower-List"><a href="indexada8.html?title=Follower_List">Follower List</a></li>
					<li id="n-User-Location"><a href="indexbaa6.html?title=User_Location">User Location</a></li>
					<li id="n-User-Profile-via-Web"><a href="index331c.html?title=User_Profile_via_Web">User Profile via Web</a></li>
					<li id="n-Network-Status"><a href="indexe7cb.html?title=Network_Status">Network Status</a></li>
				</ul>
			</div>
</div>

<!-- /User Management -->

<!-- User-defined Menu -->
<div class="portal" id='p-User-defined_Menu'>
	<h5><span class="portal_arrow"></span>User-defined Menu</h5>
	<div class="body">
				<ul>
					<li id="n-Create"><a href="indexb5c7.html?title=Create">Create</a></li>
					<li id="n-Query"><a href="indexfd99.html?title=Query">Query</a></li>
					<li id="n-Delete"><a href="index9a86.html?title=Delete">Delete</a></li>
					<li id="n-Event"><a href="index650b.html?title=Event">Event</a></li>
				</ul>
			</div>
</div>

<!-- /User-defined Menu -->

<!-- Promotion Support -->
<div class="portal" id='p-Promotion_Support'>
	<h5><span class="portal_arrow"></span>Promotion Support</h5>
	<div class="body">
				<ul>
					<li id="n-Generating-Parametric-QR-Code"><a href="index21b1.html?title=Generating_Parametric_QR_Code">Generating Parametric QR Code</a></li>
					<li id="n-URL-Shortening-API"><a href="index49ae.html?title=URL_Shortening_API">URL Shortening API</a></li>
				</ul>
			</div>
</div>

<!-- /Promotion Support -->

<!-- Data Statistics -->
<div class="portal" id='p-Data_Statistics'>
	<h5><span class="portal_arrow"></span>Data Statistics</h5>
	<div class="body">
				<ul>
					<li id="n-Followers-Data"><a href="index17c4.html?title=Followers_Data_API">Followers Data</a></li>
					<li id="n-Rich-Media-Data"><a href="indexad50.html?title=Rich_Media_Data_API">Rich Media Data</a></li>
					<li id="n-User-Sent-Messages-Data"><a href="index020e.html?title=Messages_Data_API">User-Sent Messages Data</a></li>
					<li id="n-Callback-Data"><a href="index836e.html?title=Callback_Data_API">Callback Data</a></li>
				</ul>
			</div>
</div>

<!-- /Data Statistics -->

<!-- Wechat JS-SDK -->
<div class="portal" id='p-Wechat_JS-SDK'>
	<h5><span class="portal_arrow"></span>Wechat JS-SDK</h5>
	<div class="body">
				<ul>
					<li id="n-Wechat-JS-SDK-document"><a href="index0187.html?title=JS_SDK_DOCUMENT">Wechat JS-SDK document</a></li>
				</ul>
			</div>
</div>

<!-- /Wechat JS-SDK -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		</div>
		<!-- footer -->
		<div id="footer">
				<ul id="footer-places">
                    <li id="footer-about"><a target="_blank" href="http://www.tencent.com/en-us/index.shtml">About Tencent</a>&nbsp;|&nbsp; </li>
          <li id="footer-policy"> <a target="_blank" href="http://wechat.com/en/service_terms.html">Service Terms</a>&nbsp;|&nbsp;</li>
          <li id="footer-contactus"><a  href="mailto:admin@wechat.com">Contact Us</a></li>
        </ul>
				
				<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both">Copyright&nbsp;&copy; 2012-2015 Tencent. All Rights Reserved.</div>
		</div>
		<!-- /footer -->
		
<script src="load8478.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Advanced_Broadcast_Interface", "wgTitle": "Advanced Broadcast Interface", "wgAction": "view", "wgArticleId": 49, "wgIsArticle": true, "wgUserName": null, "wgUserGroups": ["*"], "wgCurRevisionId": 265, "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script>
<script>if ( window.mediaWiki ) {
	mediaWiki.loader.load(["mediawiki.util", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
	mediaWiki.loader.go();
}
</script>

<script>if ( window.mediaWiki ) {
	mediaWiki.user.options.set({"ccmeonemails":0,"cols":80,"contextchars":50,"contextlines":5,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
	"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mediaWiki.loader.state({"user.options":"ready"});
}
</script>		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		<!-- Served in 0.112 secs. -->			</body>

<!-- Mirrored from admin.wechat.com/wiki/index.php?title=Advanced_Broadcast_Interface by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Mar 2015 02:15:37 GMT -->
</html>
<!-- IBG, 2015-03-20 --><!-- so -->